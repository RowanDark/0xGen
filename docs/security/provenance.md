# Build Provenance

Glyph publishes SLSA v3 provenance for both the release binaries and the
container image that ships with each tagged release. Provenance answers the
question "what trusted automation produced this artifact?" and allows you to
verify that code downloaded from GitHub was built by the official project
pipelines rather than a third party.

The SLSA provenance is generated with the
[`slsa-framework/slsa-github-generator`](https://github.com/slsa-framework/slsa-github-generator)
reusable workflows. Verification therefore rests on the trusted
signer/builder principle: when you trust the GitHub Actions workflow that the
project maintains, you can validate that a release artifact originated from
that workflow and was not tampered with after it was built.

## Release binaries

Every release attaches a provenance file alongside the tarballs and checksum
files (for example, `glyph-v1.2.3-binaries.intoto.jsonl`). To verify a release:

1. Download the binary archive, the checksum file, and the provenance file from
   the GitHub release page.
2. Install the [`slsa-verifier`](https://github.com/slsa-framework/slsa-verifier)
   CLI locally.
3. Run the verifier against the provenance, pointing it at the downloaded
   artifact:

   ```bash
   slsa-verifier verify-artifact \
     --provenance glyph-v1.2.3-binaries.intoto.jsonl \
     --source-uri github.com/RowanDark/Glyph \
     --builder-id \
       https://github.com/slsa-framework/slsa-github-generator/.github/workflows/generic-post-build-provenance@v1.10.0 \
     dist/glyphctl-linux-amd64.tar.gz
   ```

   Replace the artifact path with the archive you downloaded. A successful
   verification proves the archive was produced by the tagged commit through
   Glyph's release workflow.

## Container image

The container image published to `ghcr.io/<owner>/glyphctl` also carries a SLSA
provenance statement. After pulling the image digest you wish to verify, run:

```bash
slsa-verifier verify-image \
  --provenance glyph-v1.2.3-image.intoto.jsonl \
  --source-uri github.com/RowanDark/Glyph \
  --builder-id \
    https://github.com/slsa-framework/slsa-github-generator/.github/workflows/container-post-push-provenance@v1.10.0 \
  ghcr.io/<owner>/glyphctl@sha256:deadbeef...
```

The verifier will confirm the digest matches the provenance and that the image
was produced by Glyph's trusted container workflow. Replace the image reference
and provenance name with the assets from the release you are checking.

When both verifications succeed you gain high confidence that the downloaded
binaries and container images were generated by the project's automated build
pipelines without intermediate tampering.
